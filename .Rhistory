)
scale_radius(trans = 'reverse'+
ER_tot_pred_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.8)+
new_scale_fill()+
geom_sf(data = ER_sf, aes(color = Total_Oxygen_Consumed_g_per_m2_per_day_Z, size = Total_Oxygen_Consumed_g_per_m2_per_day_Z), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_color_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_radius(trans = 'reverse')+
theme_map() +
labs(x = "", y = "", color = "Normalized Total\nOxygen Consumed") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tr", which_north = "true",
pad_x = unit(2, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
ggsave('./Maps/SSS_ER_Total_Predicted_Map_ZScores.pdf',
ER_tot_pred_map,
width = 10,
height = 5
)
ER_tot_pred_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.8)+
new_scale_fill()+
geom_sf(data = ER_sf, aes(color = Total_Oxygen_Consumed_g_per_m2_per_day_Z, size = Total_Oxygen_Consumed_g_per_m2_per_day_Z), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_color_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_radius(trans = 'reverse')+
theme_map() +
labs(x = "", y = "", color = "Normalized Total\nOxygen Consumed") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tr", which_north = "true",
pad_x = unit(2, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
ggsave('./Maps/SSS_ER_Total_Predicted_Map_ZScores.pdf',
ER_tot_pred_map,
width = 10,
height = 5
)
ER_tot_pred_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.8)+
new_scale_fill()+
geom_sf(data = ER_sf, aes(color = Total_Oxygen_Consumed_g_per_m2_per_day_Z, size = Total_Oxygen_Consumed_g_per_m2_per_day_Z), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_color_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_size_area(trans = 'reverse')+
theme_map() +
labs(x = "", y = "", color = "Normalized Total\nOxygen Consumed") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tr", which_north = "true",
pad_x = unit(2, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
ggsave('./Maps/SSS_ER_Total_Predicted_Map_ZScores.pdf',
ER_tot_pred_map,
width = 10,
height = 5
)
ER_tot_pred_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.8)+
new_scale_fill()+
geom_sf(data = ER_sf, aes(color = Total_Oxygen_Consumed_g_per_m2_per_day_Z, size = Total_Oxygen_Consumed_g_per_m2_per_day_Z), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_color_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_radius(trans = 'reverse', range = c(2, ))+
theme_map() +
labs(x = "", y = "", color = "Normalized Total\nOxygen Consumed") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tr", which_north = "true",
pad_x = unit(2, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
ER_tot_pred_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.8)+
new_scale_fill()+
geom_sf(data = ER_sf, aes(color = Total_Oxygen_Consumed_g_per_m2_per_day_Z, size = Total_Oxygen_Consumed_g_per_m2_per_day_Z), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_color_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_radius(trans = 'reverse', range = c(2, 8))+
theme_map() +
labs(x = "", y = "", color = "Normalized Total\nOxygen Consumed") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tr", which_north = "true",
pad_x = unit(2, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
ggsave('./Maps/SSS_ER_Total_Predicted_Map_ZScores.pdf',
ER_tot_pred_map,
width = 10,
height = 5
)
ER_tot_obs_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.8)+
new_scale_fill()+
geom_sf(data = ER_sf, aes(color = Total_Ecosystem_Respiration_Square_Z, size = Total_Ecosystem_Respiration_Square_Z), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_color_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_radius(range = c(2, 8), trans = 'reverse')+
theme_map() +
labs(x = "", y = "", color = "Normalized Total\nEcosystem Respiration") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tr", which_north = "true",
pad_x = unit(2, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
ggsave('./Maps/SSS_ER_Total_Observed_Map_ZScores.pdf',
ER_tot_obs_map,
width = 10,
height = 5
)
merge_ER <- read_csv(ER, skip = 8, na = '-9999') %>%
full_join(read_csv(modelled_ER, skip = 4, na = '-9999')) %>%
left_join(metadata) %>%
mutate(Total_Ecosystem_Respiration_Square_Z = c(scale(Total_Ecosystem_Respiration_Square, center = TRUE, scale = TRUE))) %>%
arrange(Total_Ecosystem_Respiration_Square_Z)
ER_sf <- merge_ER %>%
# filter(Total_Ecosystem_Respiration_Square <= 0) %>%
st_as_sf(coords = c('Longitude','Latitude'), crs = common_crs)
ER_tot_obs_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.8)+
new_scale_fill()+
geom_sf(data = ER_sf, aes(color = Total_Ecosystem_Respiration_Square_Z, size = Total_Ecosystem_Respiration_Square_Z), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_color_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_radius(range = c(2, 8), trans = 'reverse')+
theme_map() +
labs(x = "", y = "", color = "Normalized Total\nEcosystem Respiration") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tr", which_north = "true",
pad_x = unit(2, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
ggsave('./Maps/SSS_ER_Total_Observed_Map_ZScores.pdf',
ER_tot_obs_map,
width = 10,
height = 5
)
ER_tot_obs_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.8)+
new_scale_fill()+
geom_sf(data = ER_sf, aes(color = Total_Ecosystem_Respiration_Square_Z, size = Total_Ecosystem_Respiration_Square_Z), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_color_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_radius(range = c(2, 12), trans = 'reverse')+
theme_map() +
labs(x = "", y = "", color = "Normalized Total\nEcosystem Respiration") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tr", which_north = "true",
pad_x = unit(2, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
ggsave('./Maps/SSS_ER_Total_Observed_Map_ZScores.pdf',
ER_tot_obs_map,
width = 10,
height = 5
)
ER_tot_obs_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.8)+
new_scale_fill()+
geom_sf(data = ER_sf, aes(color = Total_Ecosystem_Respiration_Square_Z, size = Total_Ecosystem_Respiration_Square_Z), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_color_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_radius(range = c(2, 10), trans = 'reverse')+
theme_map() +
labs(x = "", y = "", color = "Normalized Total\nEcosystem Respiration") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tr", which_north = "true",
pad_x = unit(2, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
ggsave('./Maps/SSS_ER_Total_Observed_Map_ZScores.pdf',
ER_tot_obs_map,
width = 10,
height = 5
)
ER_tot_pred_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.8)+
new_scale_fill()+
geom_sf(data = ER_sf, aes(color = Total_Oxygen_Consumed_g_per_m2_per_day_Z, size = Total_Oxygen_Consumed_g_per_m2_per_day_Z), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_color_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_radius(trans = 'reverse', range = c(4, 8))+
theme_map() +
labs(x = "", y = "", color = "Normalized Total\nOxygen Consumed") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tr", which_north = "true",
pad_x = unit(2, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
ggsave('./Maps/SSS_ER_Total_Predicted_Map_ZScores.pdf',
ER_tot_pred_map,
width = 10,
height = 5
)
merge_ER <- read_csv(ER, skip = 8, na = '-9999') %>%
full_join(read_csv(modelled_ER, skip = 4, na = '-9999')) %>%
left_join(metadata) %>%
mutate(Total_Oxygen_Consumed_g_per_m2_per_day_Z = c(scale(Total_Oxygen_Consumed_g_per_m2_per_day, center = TRUE, scale = TRUE))) %>%
arrange(Total_Oxygen_Consumed_g_per_m2_per_day_Z)
ER_sf <- merge_ER %>%
# filter(Total_Ecosystem_Respiration_Square <= 0) %>%
st_as_sf(coords = c('Longitude','Latitude'), crs = common_crs)
ER_tot_pred_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.8)+
new_scale_fill()+
geom_sf(data = ER_sf, aes(color = Total_Oxygen_Consumed_g_per_m2_per_day_Z, size = Total_Oxygen_Consumed_g_per_m2_per_day_Z), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_color_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_radius(trans = 'reverse', range = c(4, 8))+
theme_map() +
labs(x = "", y = "", color = "Normalized Total\nOxygen Consumed") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tr", which_north = "true",
pad_x = unit(2, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
ggsave('./Maps/SSS_ER_Total_Predicted_Map_ZScores.pdf',
ER_tot_pred_map,
width = 10,
height = 5
)
ER_tot_pred_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.8)+
new_scale_fill()+
geom_sf(data = ER_sf, aes(color = Total_Oxygen_Consumed_g_per_m2_per_day_Z, size = Total_Oxygen_Consumed_g_per_m2_per_day_Z), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_color_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_radius(trans = 'reverse', range = c(4, 8.2))+
theme_map() +
labs(x = "", y = "", color = "Normalized Total\nOxygen Consumed") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tr", which_north = "true",
pad_x = unit(2, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
ggsave('./Maps/SSS_ER_Total_Predicted_Map_ZScores.pdf',
ER_tot_pred_map,
width = 10,
height = 5
)
ER_tot_pred_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.8)+
new_scale_fill()+
geom_sf(data = ER_sf, aes(color = Total_Oxygen_Consumed_g_per_m2_per_day_Z, size = Total_Oxygen_Consumed_g_per_m2_per_day_Z), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_color_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_radius(trans = 'reverse', range = c(4, 8.4))+
theme_map() +
labs(x = "", y = "", color = "Normalized Total\nOxygen Consumed") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tr", which_north = "true",
pad_x = unit(2, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
ggsave('./Maps/SSS_ER_Total_Predicted_Map_ZScores.pdf',
ER_tot_pred_map,
width = 10,
height = 5
)
ER_tot_pred_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.8)+
new_scale_fill()+
geom_sf(data = ER_sf, aes(color = Total_Oxygen_Consumed_g_per_m2_per_day_Z, size = Total_Oxygen_Consumed_g_per_m2_per_day_Z), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_color_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_radius(trans = 'reverse', range = c(4, 8.5))+
theme_map() +
labs(x = "", y = "", color = "Normalized Total\nOxygen Consumed") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tr", which_north = "true",
pad_x = unit(2, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
ER_tot_pred_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.8)+
new_scale_fill()+
geom_sf(data = ER_sf, aes(color = Total_Oxygen_Consumed_g_per_m2_per_day_Z, size = Total_Oxygen_Consumed_g_per_m2_per_day_Z), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_color_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_radius(trans = 'reverse', range = c(3.9, 8.5))+
theme_map() +
labs(x = "", y = "", color = "Normalized Total\nOxygen Consumed") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tr", which_north = "true",
pad_x = unit(2, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
ggsave('./Maps/SSS_ER_Total_Predicted_Map_ZScores.pdf',
ER_tot_pred_map,
width = 10,
height = 5
)
ER_tot_pred_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.8)+
new_scale_fill()+
geom_sf(data = ER_sf, aes(color = Total_Oxygen_Consumed_g_per_m2_per_day_Z, size = Total_Oxygen_Consumed_g_per_m2_per_day_Z), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_color_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_radius(trans = 'reverse', range = c(3.9, 8.7))+
theme_map() +
labs(x = "", y = "", color = "Normalized Total\nOxygen Consumed") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tr", which_north = "true",
pad_x = unit(2, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
ggsave('./Maps/SSS_ER_Total_Predicted_Map_ZScores.pdf',
ER_tot_pred_map,
width = 10,
height = 5
)
ER_tot_pred_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.8)+
new_scale_fill()+
geom_sf(data = ER_sf, aes(color = Total_Oxygen_Consumed_g_per_m2_per_day_Z, size = Total_Oxygen_Consumed_g_per_m2_per_day_Z), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_color_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_radius(trans = 'reverse', range = c(3.9, 9))+
theme_map() +
labs(x = "", y = "", color = "Normalized Total\nOxygen Consumed") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tr", which_north = "true",
pad_x = unit(2, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
ggsave('./Maps/SSS_ER_Total_Predicted_Map_ZScores.pdf',
ER_tot_pred_map,
width = 10,
height = 5
)
ER_tot_pred_map <- ggplot()+
geom_sf(data = YRB_boundary)+
geom_raster(data = elevation, aes(long, lat, fill = elevation), show.legend = F, alpha = 0.4)+
scale_fill_gradient(low = 'white', high = 'black')+
geom_sf(data = YRB_flowlines, color = "royalblue", alpha = 0.8)+
new_scale_fill()+
geom_sf(data = ER_sf, aes(color = Total_Oxygen_Consumed_g_per_m2_per_day_Z, size = Total_Oxygen_Consumed_g_per_m2_per_day_Z), show.legend = T) +
scale_fill_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_color_viridis(option = 'B', begin = 0.3, limits = c(-3.5, 1.5))+
scale_radius(trans = 'reverse', range = c(3.7, 9))+
theme_map() +
labs(x = "", y = "", color = "Normalized Total\nOxygen Consumed") +
ggspatial::annotation_scale(
location = "br",
pad_x = unit(0.5, "in"),
bar_cols = c("black", "white")) +
ggspatial::annotation_north_arrow(
location = "tr", which_north = "true",
pad_x = unit(2, "in"),
# pad_y = unit(0.5, "in"),
style = ggspatial::north_arrow_nautical(
fill = c("black", "white"),
line_col = "grey20"))
ggsave('./Maps/SSS_ER_Total_Predicted_Map_ZScores.pdf',
ER_tot_pred_map,
width = 10,
height = 5
)
